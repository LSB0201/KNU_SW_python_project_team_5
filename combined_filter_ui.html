{% macro html(this, kwargs) %}
<style>
  #filterBox {
    position: fixed;
    top: 13px;
    left: 80px;
    z-index: 9999;
    background-color: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(4px);
    padding: 12px;
    border: 2px solid gray;
    border-radius: 6px;
    box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.3);
    display: flex;
    gap: 20px;
    align-items: center;
  }

  #filterBox label {
    font-weight: bold;
    margin-bottom: 4px;
    display: block;
  }

  #citySelect,
  #datePicker {
    width: 180px;
    padding: 4px;
    border: 1px solid gray;
    border-radius: 6px; /* ë‘¥ê·¼ ëª¨ì„œë¦¬ ì¶”ê°€ */
    box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1); /* ì‚´ì§ ìŒì˜ */
    outline: none;
  }
</style>

<!-- Litepicker ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¶ˆëŸ¬ì˜¤ê¸° -->
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/litepicker/dist/css/litepicker.css"
/>
<script src="https://cdn.jsdelivr.net/npm/litepicker/dist/litepicker.js"></script>

<div id="filterBox">
  <div>
    <label for="citySelect">ê²½ë¶ ì‹œ/êµ° ì„ íƒ:</label>
    <select id="citySelect">
      <option value="" disabled selected hidden>ì‹œ/êµ° ì„ íƒ</option>
      <option value="ì „ì²´">ì „ì²´</option>
      <option value="ê²½ì‚°ì‹œ">ê²½ì‚°ì‹œ</option>
      <option value="ê²½ì£¼ì‹œ">ê²½ì£¼ì‹œ</option>
      <option value="êµ¬ë¯¸ì‹œ">êµ¬ë¯¸ì‹œ</option>
      <option value="ê¹€ì²œì‹œ">ê¹€ì²œì‹œ</option>
      <option value="ë¬¸ê²½ì‹œ">ë¬¸ê²½ì‹œ</option>
      <option value="ìƒì£¼ì‹œ">ìƒì£¼ì‹œ</option>
      <option value="ì•ˆë™ì‹œ">ì•ˆë™ì‹œ</option>
      <option value="ì˜ì£¼ì‹œ">ì˜ì£¼ì‹œ</option>
      <option value="ì˜ì²œì‹œ">ì˜ì²œì‹œ</option>
      <option value="í¬í•­ì‹œ">í¬í•­ì‹œ</option>
      <option value="ì˜ì„±êµ°">ì˜ì„±êµ°</option>
      <option value="ì¹ ê³¡êµ°">ì¹ ê³¡êµ°</option>
      <option value="ì²­ì†¡êµ°">ì²­ì†¡êµ°</option>
    </select>
  </div>

  <div>
    <label for="datePicker">ê¸°ê°„ ì„ íƒ:</label>
    <input
      type="text"
      id="datePicker"
      placeholder="ë‚ ì§œ ë²”ìœ„ ì„ íƒ"
      style="width: 180px; padding: 4px; text-align: center; border-radius: 6px"
    />
  </div>
</div>

<script>
  const picker = new Litepicker({
    element: document.getElementById("datePicker"),
    singleMode: false,
    format: "YYYY-MM-DD",
    numberOfMonths: 1,
    numberOfColumns: 1,
    lang: "ko",
    dropdowns: {
      minYear: 2024,
      maxYear: 2025,
      months: true,
      years: true,
    },
    setup: (picker) => {
      picker.on("selected", (startDate, endDate) => {
        const start = startDate.format("YYYYë…„ Mì›” Dì¼");
        const endMonth = endDate.format("Mì›”");
        const endDay = endDate.format("Dì¼");

        // ğŸ‘‰ inputì— ì§ì ‘ í…ìŠ¤íŠ¸ ì‚½ì… (í¬ë§· ì»¤ìŠ¤í…€)
        document.getElementById(
          "datePicker"
        ).value = `${start} ~ ${endMonth} ${endDay}`;

        console.log(`âœ… ì„ íƒëœ ë‚ ì§œ ë²”ìœ„: ${start} ~ ${endMonth} ${endDay}`);

        // ğŸ‘‰ ì—¬ê¸°ì„œ í•„í„°ë§ ë¡œì§ í˜¸ì¶œ ê°€ëŠ¥
        // showMarkersByDateRange(startDate.format("YYYY-MM-DD"), endDate.format("YYYY-MM-DD"));
      });
    },
  });
</script>
{% endmacro %}
